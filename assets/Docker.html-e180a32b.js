import{_ as p,X as u,Y as m,a0 as l,a1 as e,Z as a,$ as s,a2 as d,C as r}from"./framework-7c4de04b.js";const b="/assets/Docker-21a59e85.svg",k={},v=a("h2",{id:"容器安装",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#容器安装","aria-hidden":"true"},"#"),s(" 容器安装")],-1),h=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"bash"),s(),a("span",{class:"token operator"},"<"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"curl"),s(),a("span",{class:"token parameter variable"},"-L"),s(" gitee.com/TimeRainStarSky/TRSS_Liteyuki/raw/main/Install-Docker.sh"),a("span",{class:"token punctuation"},")"),s(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),g=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"bash"),s(),a("span",{class:"token operator"},"<"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"curl"),s(),a("span",{class:"token parameter variable"},"-L"),s(" gitee.com/TimeRainStarSky/TRSS_Yunzai/raw/main/Install-Docker.sh"),a("span",{class:"token punctuation"},")"),s(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),_=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"bash"),s(),a("span",{class:"token operator"},"<"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"curl"),s(),a("span",{class:"token parameter variable"},"-L"),s(" gitee.com/TimeRainStarSky/TRSS_Sagiri/raw/main/Install-Docker.sh"),a("span",{class:"token punctuation"},")"),s(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),f=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"bash"),s(),a("span",{class:"token operator"},"<"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"curl"),s(),a("span",{class:"token parameter variable"},"-L"),s(" gitee.com/TimeRainStarSky/TRSS_Amiya/raw/main/Install-Docker.sh"),a("span",{class:"token punctuation"},")"),s(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),S=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"bash"),s(),a("span",{class:"token operator"},"<"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"curl"),s(),a("span",{class:"token parameter variable"},"-L"),s(" gitee.com/TimeRainStarSky/TRSS_Zhenxun/raw/main/Install-Docker.sh"),a("span",{class:"token punctuation"},")"),s(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),x=d('<details class="hint-container details"><summary>自定义功能</summary><figure><img src="'+b+`" alt="示意图" tabindex="0" loading="lazy"><figcaption>示意图</figcaption></figure><p>自定义 安装路径 <code>DIR</code> 启动命令 <code>CMD</code> 容器名 <code>DKNAME</code> （可用于多开）</p><p>举例：将脚本安装至 <code>/Bot</code> 启动命令 <code>trss</code> 容器名 <code>TRSS</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 原安装命令</span>
<span class="token function">bash</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token comment"># 修改后安装命令</span>
<span class="token assign-left variable">DIR</span><span class="token operator">=</span>/Bot <span class="token assign-left variable">CMD</span><span class="token operator">=</span>trss <span class="token assign-left variable">DKNAME</span><span class="token operator">=</span>TRSS <span class="token function">bash</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="容器管理" tabindex="-1"><a class="header-anchor" href="#容器管理" aria-hidden="true">#</a> 容器管理</h2>`,2),y=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"docker"),s(),a("span",{class:"token function"},"ps"),s(),a("span",{class:"token parameter variable"},"-as"),s(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),D=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"docker"),s(" start 容器名 "),a("span",{class:"token comment"},"# 默认开机自启，无需手动启动"),s(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),R=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"docker"),s(" restart "),a("span",{class:"token parameter variable"},"-t0"),s(` 容器名
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),T=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"docker"),s(" stop "),a("span",{class:"token parameter variable"},"-t0"),s(` 容器名
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),A=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"docker"),s(),a("span",{class:"token function"},"rm"),s(),a("span",{class:"token parameter variable"},"-f"),s(` 容器名
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),w=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"docker"),s(" run "),a("span",{class:"token parameter variable"},"-itd"),s(`
  `),a("span",{class:"token parameter variable"},"-h"),s(` 主机名
  `),a("span",{class:"token parameter variable"},"--name"),s(` 容器名
  `),a("span",{class:"token parameter variable"},"-v"),s(` 数据路径:/root/项目名
  `),a("span",{class:"token parameter variable"},"--restart"),s(" always "),a("span",{class:"token comment"},"#自启动"),s(`
  `),a("span",{class:"token parameter variable"},"-p"),s(" 主机端口:容器端口 "),a("span",{class:"token comment"},"#端口映射"),s(`
  镜像名
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),L=a("h2",{id:"常见问题",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#常见问题","aria-hidden":"true"},"#"),s(" 常见问题")],-1),I={class:"hint-container details"},C=a("summary",null,"Docker 安装失败",-1),E={href:"https://docker.com",target:"_blank",rel:"noopener noreferrer"},N={href:"https://vuepress.mirror.docker-practice.com/install",target:"_blank",rel:"noopener noreferrer"},B=d(`<details class="hint-container details"><summary>Cannot connect to the Docker daemon at unix:///var/run/docker.sock</summary><p>启动 Docker Daemon</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># systemctl</span>
systemctl <span class="token builtin class-name">enable</span> <span class="token parameter variable">--now</span> <span class="token function">docker</span>
<span class="token comment"># service</span>
<span class="token function">service</span> <span class="token function">docker</span> start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><details class="hint-container details"><summary>Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock</summary><p>添加当前用户到 docker 组</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">usermod</span> <span class="token parameter variable">-aG</span> <span class="token function">docker</span> <span class="token environment constant">$USER</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></details><hr><p>服务器 Linux 发行版 推荐使用 <code>Debian 11</code> 以上</p><p>若只有 <code>Debian 10</code> 以下，可执行以下命令并重启服务器后升级到 <code>Debian 12</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&#39;deb http://ftp.cn.debian.org/debian bookworm main contrib non-free
deb http://ftp.cn.debian.org/debian bookworm-updates main contrib non-free
deb http://ftp.cn.debian.org/debian-security bookworm-security main contrib non-free&#39;</span><span class="token operator">&gt;</span>/etc/apt/sources.list
<span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> full-upgrade <span class="token parameter variable">-y</span> <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> autoremove <span class="token parameter variable">--purge</span> <span class="token parameter variable">-y</span> <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> clean
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6);function M(V,z){const c=r("CodeTabs"),o=r("ExternalLinkIcon");return u(),m("div",null,[v,l(c,{id:"3",data:[{title:"TRSS Liteyuki"},{title:"TRSS Yunzai"},{title:"TRSS Sagiri"},{title:"TRSS Amiya"},{title:"TRSS Zhenxun"}],"tab-id":"Script"},{tab0:e(({title:n,value:t,isActive:i})=>[h]),tab1:e(({title:n,value:t,isActive:i})=>[g]),tab2:e(({title:n,value:t,isActive:i})=>[_]),tab3:e(({title:n,value:t,isActive:i})=>[f]),tab4:e(({title:n,value:t,isActive:i})=>[S]),_:1}),x,l(c,{id:"35",data:[{title:"查看容器"},{title:"启动容器"},{title:"重启容器"},{title:"停止容器"},{title:"删除容器"},{title:"重建容器"}],"tab-id":"Docker"},{tab0:e(({title:n,value:t,isActive:i})=>[y]),tab1:e(({title:n,value:t,isActive:i})=>[D]),tab2:e(({title:n,value:t,isActive:i})=>[R]),tab3:e(({title:n,value:t,isActive:i})=>[T]),tab4:e(({title:n,value:t,isActive:i})=>[A]),tab5:e(({title:n,value:t,isActive:i})=>[w]),_:1}),L,a("details",I,[C,a("ul",null,[a("li",null,[s("Docker 官方教程："),a("a",E,[s("https://docker.com"),l(o)])]),a("li",null,[s("Docker-Practice 教程："),a("a",N,[s("https://vuepress.mirror.docker-practice.com/install"),l(o)])])])]),B])}const Z=p(k,[["render",M],["__file","Docker.html.vue"]]);export{Z as default};
